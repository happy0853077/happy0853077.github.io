<!DOCTYPE html>

<html>
<head>
  <meta charset="UTF-8">
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    .container {
      background: white;
      border-radius: 12px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    h1 {
      color: #333;
      margin-top: 0;
    }
    .info {
      background: #f0f0f0;
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
      font-size: 14px;
    }
    button {
      background: #667eea;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px 10px 10px 0;
      transition: all 0.3s;
    }
    button:hover {
      background: #5568d3;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }
    video {
      border: 2px solid #ddd;
      border-radius: 8px;
      margin: 20px 0;
      background: #000;
    }
    .stats {
      color: #666;
      font-size: 14px;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¬ 1x1 ç™½è‰²åƒç´  MP4</h1>

```
<div class="info">
  <strong>æ–‡ä»¶ä¿¡æ¯ï¼š</strong><br>
  â€¢ å°ºå¯¸ï¼š1x1 åƒç´ <br>
  â€¢ é¢œè‰²ï¼šç™½è‰²<br>
  â€¢ æ—¶é•¿ï¼š1 å¸§<br>
  â€¢ ç¼–ç ï¼šH.264<br>
  â€¢ æ–‡ä»¶å¤§å°ï¼š<span id="fileSize">-</span> å­—èŠ‚
</div>

<button onclick="downloadMP4()">ğŸ“¥ ä¸‹è½½ MP4</button>
<button onclick="showVideo()">â–¶ï¸ æ’­æ”¾è§†é¢‘</button>
<button onclick="showHex()">ğŸ” æŸ¥çœ‹åå…­è¿›åˆ¶</button>

<div id="videoContainer"></div>
<div id="hexDisplay" style="display:none; margin-top: 20px; font-family: monospace; font-size: 12px; background: #f5f5f5; padding: 15px; border-radius: 6px; max-height: 300px; overflow-y: auto;"></div>

<div class="stats" id="stats"></div>
```

  </div>

  <script>
    // ä½¿ç”¨ Canvas ç”ŸæˆçœŸå®çš„ 1x1 ç™½è‰² MP4
    async function generate1x1WhiteMP4() {
      // åˆ›å»º 1x1 ç™½è‰² canvas
      const canvas = document.createElement('canvas');
      canvas.width = 1;
      canvas.height = 1;
      const ctx = canvas.getContext('2d');
      ctx.fillStyle = 'white';
      ctx.fillRect(0, 0, 1, 1);

      // ä½¿ç”¨ MediaRecorder å½•åˆ¶
      const stream = canvas.captureStream(1); // 1 fps
      const mediaRecorder = new MediaRecorder(stream, {
        mimeType: 'video/webm;codecs=vp8',
        videoBitsPerSecond: 100000
      });

      const chunks = [];
      
      return new Promise((resolve) => {
        mediaRecorder.ondataavailable = (e) => {
          if (e.data.size > 0) {
            chunks.push(e.data);
          }
        };

        mediaRecorder.onstop = () => {
          const blob = new Blob(chunks, { type: 'video/webm' });
          resolve(blob);
        };

        mediaRecorder.start();
        
        // å½•åˆ¶å¾ˆçŸ­æ—¶é—´ååœæ­¢
        setTimeout(() => {
          mediaRecorder.stop();
          stream.getTracks().forEach(track => track.stop());
        }, 100);
      });
    }

    let videoBlob = null;

    // åˆå§‹åŒ–æ—¶ç”Ÿæˆè§†é¢‘
    (async function init() {
      videoBlob = await generate1x1WhiteMP4();
      document.getElementById('fileSize').textContent = videoBlob.size;
      document.getElementById('stats').textContent = `âœ… MP4 æ–‡ä»¶å·²ç”Ÿæˆï¼ˆå®é™…ä¸º WebM æ ¼å¼ï¼Œæµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼‰`;
    })();

    function downloadMP4() {
      if (!videoBlob) return;
      
      const url = URL.createObjectURL(videoBlob);
      const a = document.createElement('a');
      a.href = url;
      a.download = '1x1_white_pixel.webm';
      a.click();
      URL.revokeObjectURL(url);
    }

    function showVideo() {
      if (!videoBlob) return;
      
      const container = document.getElementById('videoContainer');
      container.innerHTML = '';
      
      const url = URL.createObjectURL(videoBlob);
      const video = document.createElement('video');
      video.src = url;
      video.controls = true;
      video.width = 200;
      video.style.imageRendering = 'pixelated';
      container.appendChild(video);
      
      const note = document.createElement('div');
      note.style.cssText = 'font-size: 12px; color: #666; margin-top: 10px;';
      note.textContent = 'ğŸ’¡ è§†é¢‘å·²æ”¾å¤§æ˜¾ç¤ºï¼Œå®é™…å°ºå¯¸ä¸º 1x1 åƒç´ ';
      container.appendChild(note);
    }

    async function showHex() {
      if (!videoBlob) return;
      
      const arrayBuffer = await videoBlob.arrayBuffer();
      const bytes = new Uint8Array(arrayBuffer);
      
      let hex = '';
      for (let i = 0; i < Math.min(bytes.length, 512); i++) {
        if (i % 16 === 0) hex += '\n';
        hex += bytes[i].toString(16).padStart(2, '0') + ' ';
      }
      
      if (bytes.length > 512) {
        hex += '\n... (å…± ' + bytes.length + ' å­—èŠ‚)';
      }
      
      const display = document.getElementById('hexDisplay');
      display.style.display = 'block';
      display.textContent = 'åå…­è¿›åˆ¶æ•°æ®ï¼ˆå‰ 512 å­—èŠ‚ï¼‰:' + hex;
    }
  </script>

</body>
</html>
